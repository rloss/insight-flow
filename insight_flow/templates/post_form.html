{% extends "base.html" %}
{% block title %}{{ mode == "edit" and "ê¸€ ìˆ˜ì •í•˜ê¸°" or "ê¸€ì“°ê¸°" }} - Insight Flow{% endblock %}

{% block content %}
  <h2>{{ mode == "edit" and "âœ ê¸€ ìˆ˜ì •í•˜ê¸°" or "ğŸ“ ì¸ì‚¬ì´íŠ¸ ì‘ì„±í•˜ê¸°" }}</h2>

  <form method="POST" style="display: flex; flex-direction: column; gap: 1rem; max-width: 600px;">
    <input type="text" name="title" placeholder="ì œëª©" value="{{ post.title if post else '' }}" required />
    <textarea name="content" rows="10" placeholder="ë³¸ë¬¸ ì…ë ¥" required>{{ post.content if post else '' }}</textarea>
    <input type="text" name="author" placeholder="ì‘ì„±ì" value="{{ post.author if post else '' }}" />

    <div>
      <label>ì¹´í…Œê³ ë¦¬ (ë³µìˆ˜ ì„ íƒ)</label><br />
      {% for cat in categories %}
        <label>
          <input type="checkbox" name="categories" value="{{ cat }}"
                 {% if post and cat in post.categories %}checked{% endif %}>
          {{ cat }}
        </label>
      {% endfor %}
    </div>

    <input type="text" name="tags" placeholder="íƒœê·¸ (ì‰¼í‘œ êµ¬ë¶„)" value="{{ post.tags if post else '' }}" />

    <button type="submit">{{ mode == "edit" and "ìˆ˜ì • ì™„ë£Œ" or "ì‘ì„± ì™„ë£Œ" }}</button>
  </form>
{% endblock %}
